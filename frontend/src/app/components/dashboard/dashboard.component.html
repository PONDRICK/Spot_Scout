<nav class="navbar">
  <div class="navbar-content">
    <div class="navbar-left">
      <span class="navbar-title">Spotscout</span>
    </div>
    <div class="navbar-right">
      <button
        (click)="toggleSidebar()"
        class="bg-blue-500 text-white px-4 py-2 rounded-md"
      >
        Select
      </button>
      <button
        (click)="logout()"
        class="bg-red-500 text-white px-4 py-2 rounded-md"
      >
        Logout
      </button>
    </div>
  </div>
</nav>
<div id="map" style="height: calc(100vh - 56px); width: 100%"></div>
<div class="sidebar" [ngClass]="{ open: isSidebarOpen }">
  <div class="sidebar-content">
    <button (click)="toggleSidebar()" class="close-button">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
    <input type="text" placeholder="Latitude" #latInput />
    <input type="text" placeholder="Longitude" #lonInput />
    <div class="checkbox-container">
      <input type="checkbox" id="lockMarker" [(ngModel)]="isMarkerLocked" />
      <label for="lockMarker">Lock Location Marker</label>
    </div>
    <label for="function">Select Function:</label>
    <select id="function" [(ngModel)]="selectedFunction">
      <option value="nearest">Nearest Place</option>
      <option value="count">Count Amenities</option>
    </select>
    <label for="amenity">Select Amenity:</label>
    <select id="amenity" [(ngModel)]="selectedAmenity">
      <option value="restaurant">Restaurant</option>
      <option value="cafe">Cafe</option>
      <option value="convenience">Convenience</option>
      <option value="hotel">Hotel</option>
      <option value="hospital">Hospital</option>
    </select>
    <div *ngIf="selectedFunction === 'count'">
      <label for="distance">Distance:</label>
      <input
        type="number"
        id="distance"
        [(ngModel)]="distance"
        min="100"
        step="100"
      />
    </div>
    <button (click)="confirmSelection()" class="confirm-button">Confirm</button>
    <div *ngIf="nearestPlace" class="nearest-place-info">
      <h3>Nearest {{ nearestPlace.amenity }}:</h3>
      <p>Distance: {{ nearestPlace.distance }} meters</p>
      <p>Province: {{ nearestPlace.province }}</p>
      <p>Lat: {{ nearestPlace.lat }}</p>
      <p>Lon: {{ nearestPlace.lon }}</p>
    </div>
    <div *ngIf="amenityCount !== null" class="nearest-place-info">
      <h3>Amenities Count:</h3>
      <p>Count: {{ amenityCount }}</p>
      <ul>
        <li *ngFor="let amenity of amenities">
          Lat: {{ amenity.lat }}, Lon: {{ amenity.lon }}
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="search-container">
  <div class="search-bar">
    <input
      type="text"
      placeholder="Search location"
      (input)="onSearchInput($event)"
      #searchInput
    />
    <ul class="suggestions" *ngIf="suggestions.length">
      <li
        *ngFor="let suggestion of suggestions"
        (click)="selectSuggestion(suggestion)"
      >
        <span class="icon">üìç</span>
        <!-- Placeholder for the location icon -->
        {{ suggestion.display_name }}
      </li>
    </ul>
  </div>
</div>
<div id="map"></div>
