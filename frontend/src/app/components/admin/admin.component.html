<nav class="navbar">
  <div class="navbar-content">
    <div class="navbar-left">
      <span class="navbar-title">Admin Panel</span>
    </div>
    <div class="navbar-right">
      <button (click)="logout()" class="btn-logout">Logout</button>
    </div>
  </div>
</nav>

<div class="admin-content">
  <div class="admin-section">
    <h2>Users</h2>
    <button (click)="fetchUsers()" class="btn-refresh">Refresh Users</button>
    <ul>
      <li *ngFor="let user of users">
        {{ user.email }} - {{ user.full_name }}
        <button (click)="deleteUser(user.id)" class="btn-delete">Delete</button>
      </li>
    </ul>
  </div>

  <div class="admin-section">
    <h2>Roles</h2>
    <button (click)="fetchRoles()" class="btn-refresh">Refresh Roles</button>
    <ul>
      <li *ngFor="let role of roles">
        {{ role.name }}
      </li>
    </ul>
  </div>

  <div class="admin-section">
    <h2>System Configuration</h2>
    <button (click)="fetchConfig()" class="btn-refresh">Refresh Config</button>
    <pre>{{ systemConfig | json }}</pre>
    <button (click)="updateConfig()" class="btn-update">Update Config</button>
  </div>

  <div class="admin-section">
    <h2>Activity Logs</h2>
    <button (click)="fetchLogs()" class="btn-refresh">Refresh Logs</button>
    <ul>
      <li *ngFor="let log of activityLogs">
        {{ log.timestamp }} - {{ log.user_email }} - {{ log.action }}
      </li>
    </ul>
  </div>

  <div class="admin-section">
    <h2>Statistics</h2>
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Total Users</h3>
        <p>{{ totalUsers }}</p>
      </div>
      <div class="stat-card">
        <h3>Total Roles</h3>
        <p>{{ totalRoles }}</p>
      </div>
      <div class="stat-card">
        <h3>Recent Activities</h3>
        <p>{{ recentActivities }}</p>
      </div>
    </div>
    <div class="charts">
      <canvas
        baseChart
        [data]="usersChartData"
        [options]="chartOptions"
        chartType="bar"
      >
      </canvas>
      <canvas
        baseChart
        [data]="rolesChartData"
        [options]="chartOptions"
        chartType="line"
      >
      </canvas>
      <canvas
        baseChart
        [data]="activitiesChartData"
        [options]="chartOptions"
        chartType="doughnut"
      >
      </canvas>
    </div>
  </div>
</div>
